"use strict";function _async(a){return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];try{return Promise.resolve(a.apply(this,b))}catch(a){return Promise.reject(a)}}}var taskList=document.querySelector("#task-list"),addTaskInput=document.querySelector("#add-task-input"),addTaskBtn=document.querySelector("#add-task"),tasks=[],unDoneTasksCount=0;function countUnDoneTasks(){unDoneTasksCount=tasks.filter(function(a){return!a.isDone()}).length}function taskChildOnClick(a,b){var c=tasks.findIndex(function(a){return a.getId()===b}),d=tasks[c];if(d){var e="#task-".concat(b),f=taskList.querySelector(e),g=a.target.getAttribute("id");switch(g){case"task-".concat(b,"-imp"):case"task-".concat(b,"-simp"):d.setTimeLimit(d.isImportant()?0:1),f.querySelector("#task-".concat(b,"-imp")).classList[d.isImportant()?"add":"remove"]("fas"),f.querySelector("#task-".concat(b,"-imp")).classList[d.isImportant()?"remove":"add"]("far");break;case"task-".concat(b,"-sdel"):case"task-".concat(b,"-del"):f.onanimationend=function(){f.classList.contains("fade-out")&&taskList.removeChild(f)},f.classList.add("fade-out"),tasks.splice(c,1);break;case"task-".concat(b):default:f.classList[f.classList.contains("text-strike")?"remove":"add"]("text-strike"),d.setDone(!d.isDone());}saveTasks(tasks),countUnDoneTasks()}}function appendTask(a){tasks.push(a);var b=createTaskChild(a,taskChildOnClick);taskList.appendChild(b),saveTasks(tasks),countUnDoneTasks()}function addTaskFunc(){var a=addTaskInput.value;if(a){var b=new Task(a.trim(),"");addTaskInput.value="",appendTask(b),addTaskInput.select()}}addTaskBtn.addEventListener("click",addTaskFunc),addTaskInput.addEventListener("keyup",function(a){"Enter"!==a.key||addTaskFunc()}),_async(function(){loadTasks().forEach(function(a,b){setTimeout(function(){appendTask(a)},150*(b+1))}),loadingDiv.classList.add("d-none");sleepDiv.classList.contains("d-none")&&rootDiv.classList.remove("d-none")})();