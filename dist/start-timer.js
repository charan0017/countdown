"use strict";var rootDiv=document.querySelector("#root"),loadingDiv=document.querySelector("#loading"),sleepDiv=document.querySelector("#sleep"),countdownDiv=rootDiv.querySelector("#countdown"),remainingPercentP=countdownDiv.querySelector("#remaining-percent"),remainingDurationDiv=countdownDiv.querySelector("#remaining-duration"),remainingHrsP=remainingDurationDiv.querySelector("#hrs"),remainingMinsP=remainingDurationDiv.querySelector("#mins"),remainingSecsP=remainingDurationDiv.querySelector("#secs"),circle=countdownDiv.querySelector("#circle"),perimeter=2*(circle.getAttribute("r")*Math.PI);circle.setAttribute("stroke-dasharray",perimeter);var timer;function createNewTimer(){timer=new Timer(getRemainingTime(),{onStart:function onStart(a){console.log("A new coutdown has started, totalSeconds: ".concat(a))},onTick:function onTick(a,b,c){circle.setAttribute("stroke-dashoffset",perimeter*a/b-perimeter);var d="".concat(c.toFixed(2)," %");remainingPercentP.innerHTML=d;var e=getIntervalFromSeconds(a);remainingHrsP.innerHTML=e.hrs,remainingMinsP.innerHTML=e.mins,remainingSecsP.innerHTML=e.secs,document.title="".concat(unDoneTasksCount?"(".concat(unDoneTasksCount,") "):"").concat(e.hrs,":").concat(e.mins,":").concat(e.secs," - ").concat(d)},onComplete:function onComplete(){console.log("complete"),rootDiv.classList.add("d-none"),sleepDiv.classList.remove("d-none"),document.title="Sleeptime!! \uD83D\uDCA4"}})}document.addEventListener("visibilitychange",function(){if(document.hidden){// console.log('tab is now inactive');
if(!timer)return;timer.pause(),timer=null}else{// console.log('tab is active again');
if(timer)return;createNewTimer()}}),timer||createNewTimer();